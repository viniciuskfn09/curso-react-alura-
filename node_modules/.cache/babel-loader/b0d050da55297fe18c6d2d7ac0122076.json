{"ast":null,"code":"'use client';\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport clsx from 'clsx';\nimport Navigation from './Calendar/Navigation.js';\nimport CenturyView from './CenturyView.js';\nimport DecadeView from './DecadeView.js';\nimport YearView from './YearView.js';\nimport MonthView from './MonthView.js';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates.js';\nimport { between } from './shared/utils.js';\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = ['decade', 'year', 'month', 'day'];\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\n\nfunction toDate(value) {\n  if (value instanceof Date) {\n    return value;\n  }\n\n  return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\n\n\nfunction getLimitedViews(minDetail, maxDetail) {\n  return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\n\n\nfunction isViewAllowed(view, minDetail, maxDetail) {\n  var views = getLimitedViews(minDetail, maxDetail);\n  return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\n\n\nfunction getView(view, minDetail, maxDetail) {\n  if (!view) {\n    return maxDetail;\n  }\n\n  if (isViewAllowed(view, minDetail, maxDetail)) {\n    return view;\n  }\n\n  return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\n\n\nfunction getValueType(view) {\n  var index = allViews.indexOf(view);\n  return allValueTypes[index];\n}\n\nfunction getValue(value, index) {\n  var rawValue = Array.isArray(value) ? value[index] : value;\n\n  if (!rawValue) {\n    return null;\n  }\n\n  var valueDate = toDate(rawValue);\n\n  if (isNaN(valueDate.getTime())) {\n    throw new Error(\"Invalid date: \".concat(value));\n  }\n\n  return valueDate;\n}\n\nfunction getDetailValue(_a, index) {\n  var value = _a.value,\n      minDate = _a.minDate,\n      maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail;\n  var valuePiece = getValue(value, index);\n\n  if (!valuePiece) {\n    return null;\n  }\n\n  var valueType = getValueType(maxDetail);\n\n  var detailValueFrom = function () {\n    switch (index) {\n      case 0:\n        return getBegin(valueType, valuePiece);\n\n      case 1:\n        return getEnd(valueType, valuePiece);\n\n      default:\n        throw new Error(\"Invalid index value: \".concat(index));\n    }\n  }();\n\n  return between(detailValueFrom, minDate, maxDate);\n}\n\nvar getDetailValueFrom = function (args) {\n  return getDetailValue(args, 0);\n};\n\nvar getDetailValueTo = function (args) {\n  return getDetailValue(args, 1);\n};\n\nvar getDetailValueArray = function (args) {\n  return [getDetailValueFrom, getDetailValueTo].map(function (fn) {\n    return fn(args);\n  });\n};\n\nfunction getActiveStartDate(_a) {\n  var maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail,\n      minDate = _a.minDate,\n      minDetail = _a.minDetail,\n      value = _a.value,\n      view = _a.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = getDetailValueFrom({\n    value: value,\n    minDate: minDate,\n    maxDate: maxDate,\n    maxDetail: maxDetail\n  }) || new Date();\n  return getBegin(rangeType, valueFrom);\n}\n\nfunction getInitialActiveStartDate(_a) {\n  var activeStartDate = _a.activeStartDate,\n      defaultActiveStartDate = _a.defaultActiveStartDate,\n      defaultValue = _a.defaultValue,\n      defaultView = _a.defaultView,\n      maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail,\n      minDate = _a.minDate,\n      minDetail = _a.minDetail,\n      value = _a.value,\n      view = _a.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = activeStartDate || defaultActiveStartDate;\n\n  if (valueFrom) {\n    return getBegin(rangeType, valueFrom);\n  }\n\n  return getActiveStartDate({\n    maxDate: maxDate,\n    maxDetail: maxDetail,\n    minDate: minDate,\n    minDetail: minDetail,\n    value: value || defaultValue,\n    view: view || defaultView\n  });\n}\n\nfunction getIsSingleValue(value) {\n  return value && (!Array.isArray(value) || value.length === 1);\n}\n\nfunction areDatesEqual(date1, date2) {\n  return date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();\n}\n\nvar Calendar = forwardRef(function Calendar(props, ref) {\n  var activeStartDateProps = props.activeStartDate,\n      allowPartialRange = props.allowPartialRange,\n      calendarType = props.calendarType,\n      className = props.className,\n      defaultActiveStartDate = props.defaultActiveStartDate,\n      defaultValue = props.defaultValue,\n      defaultView = props.defaultView,\n      formatDay = props.formatDay,\n      formatLongDate = props.formatLongDate,\n      formatMonth = props.formatMonth,\n      formatMonthYear = props.formatMonthYear,\n      formatShortWeekday = props.formatShortWeekday,\n      formatWeekday = props.formatWeekday,\n      formatYear = props.formatYear,\n      _a = props.goToRangeStartOnSelect,\n      goToRangeStartOnSelect = _a === void 0 ? true : _a,\n      inputRef = props.inputRef,\n      locale = props.locale,\n      _b = props.maxDate,\n      maxDate = _b === void 0 ? defaultMaxDate : _b,\n      _c = props.maxDetail,\n      maxDetail = _c === void 0 ? 'month' : _c,\n      _d = props.minDate,\n      minDate = _d === void 0 ? defaultMinDate : _d,\n      _e = props.minDetail,\n      minDetail = _e === void 0 ? 'century' : _e,\n      navigationAriaLabel = props.navigationAriaLabel,\n      navigationAriaLive = props.navigationAriaLive,\n      navigationLabel = props.navigationLabel,\n      next2AriaLabel = props.next2AriaLabel,\n      next2Label = props.next2Label,\n      nextAriaLabel = props.nextAriaLabel,\n      nextLabel = props.nextLabel,\n      onActiveStartDateChange = props.onActiveStartDateChange,\n      onChangeProps = props.onChange,\n      onClickDay = props.onClickDay,\n      onClickDecade = props.onClickDecade,\n      onClickMonth = props.onClickMonth,\n      onClickWeekNumber = props.onClickWeekNumber,\n      onClickYear = props.onClickYear,\n      onDrillDown = props.onDrillDown,\n      onDrillUp = props.onDrillUp,\n      onViewChange = props.onViewChange,\n      prev2AriaLabel = props.prev2AriaLabel,\n      prev2Label = props.prev2Label,\n      prevAriaLabel = props.prevAriaLabel,\n      prevLabel = props.prevLabel,\n      _f = props.returnValue,\n      returnValue = _f === void 0 ? 'start' : _f,\n      selectRange = props.selectRange,\n      showDoubleView = props.showDoubleView,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks,\n      _g = props.showNavigation,\n      showNavigation = _g === void 0 ? true : _g,\n      showNeighboringCentury = props.showNeighboringCentury,\n      showNeighboringDecade = props.showNeighboringDecade,\n      _h = props.showNeighboringMonth,\n      showNeighboringMonth = _h === void 0 ? true : _h,\n      showWeekNumbers = props.showWeekNumbers,\n      tileClassName = props.tileClassName,\n      tileContent = props.tileContent,\n      tileDisabled = props.tileDisabled,\n      valueProps = props.value,\n      viewProps = props.view;\n\n  var _j = useState(defaultActiveStartDate),\n      activeStartDateState = _j[0],\n      setActiveStartDateState = _j[1];\n\n  var _k = useState(null),\n      hoverState = _k[0],\n      setHoverState = _k[1];\n\n  var _l = useState(Array.isArray(defaultValue) ? defaultValue.map(function (el) {\n    return el !== null ? toDate(el) : null;\n  }) : defaultValue !== null && defaultValue !== undefined ? toDate(defaultValue) : null),\n      valueState = _l[0],\n      setValueState = _l[1];\n\n  var _m = useState(defaultView),\n      viewState = _m[0],\n      setViewState = _m[1];\n\n  var activeStartDate = activeStartDateProps || activeStartDateState || getInitialActiveStartDate({\n    activeStartDate: activeStartDateProps,\n    defaultActiveStartDate: defaultActiveStartDate,\n    defaultValue: defaultValue,\n    defaultView: defaultView,\n    maxDate: maxDate,\n    maxDetail: maxDetail,\n    minDate: minDate,\n    minDetail: minDetail,\n    value: valueProps,\n    view: viewProps\n  });\n\n  var value = function () {\n    var rawValue = function () {\n      // In the middle of range selection, use value from state\n      if (selectRange && getIsSingleValue(valueState)) {\n        return valueState;\n      }\n\n      return valueProps !== undefined ? valueProps : valueState;\n    }();\n\n    if (!rawValue) {\n      return null;\n    }\n\n    return Array.isArray(rawValue) ? rawValue.map(function (el) {\n      return el !== null ? toDate(el) : null;\n    }) : rawValue !== null ? toDate(rawValue) : null;\n  }();\n\n  var valueType = getValueType(maxDetail);\n  var view = getView(viewProps || viewState, minDetail, maxDetail);\n  var views = getLimitedViews(minDetail, maxDetail);\n  var hover = selectRange ? hoverState : null;\n  var drillDownAvailable = views.indexOf(view) < views.length - 1;\n  var drillUpAvailable = views.indexOf(view) > 0;\n  var getProcessedValue = useCallback(function (value) {\n    var processFunction = function () {\n      switch (returnValue) {\n        case 'start':\n          return getDetailValueFrom;\n\n        case 'end':\n          return getDetailValueTo;\n\n        case 'range':\n          return getDetailValueArray;\n\n        default:\n          throw new Error('Invalid returnValue.');\n      }\n    }();\n\n    return processFunction({\n      maxDate: maxDate,\n      maxDetail: maxDetail,\n      minDate: minDate,\n      value: value\n    });\n  }, [maxDate, maxDetail, minDate, returnValue]);\n  var setActiveStartDate = useCallback(function (nextActiveStartDate, action) {\n    setActiveStartDateState(nextActiveStartDate);\n    var args = {\n      action: action,\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: view\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n  }, [activeStartDate, onActiveStartDateChange, value, view]);\n  var onClickTile = useCallback(function (value, event) {\n    var callback = function () {\n      switch (view) {\n        case 'century':\n          return onClickDecade;\n\n        case 'decade':\n          return onClickYear;\n\n        case 'year':\n          return onClickMonth;\n\n        case 'month':\n          return onClickDay;\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }();\n\n    if (callback) callback(value, event);\n  }, [onClickDay, onClickDecade, onClickMonth, onClickYear, view]);\n  var drillDown = useCallback(function (nextActiveStartDate, event) {\n    if (!drillDownAvailable) {\n      return;\n    }\n\n    onClickTile(nextActiveStartDate, event);\n    var nextView = views[views.indexOf(view) + 1];\n\n    if (!nextView) {\n      throw new Error('Attempted to drill down from the lowest view.');\n    }\n\n    setActiveStartDateState(nextActiveStartDate);\n    setViewState(nextView);\n    var args = {\n      action: 'drillDown',\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: nextView\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onViewChange && view !== nextView) {\n      onViewChange(args);\n    }\n\n    if (onDrillDown) {\n      onDrillDown(args);\n    }\n  }, [activeStartDate, drillDownAvailable, onActiveStartDateChange, onClickTile, onDrillDown, onViewChange, value, view, views]);\n  var drillUp = useCallback(function () {\n    if (!drillUpAvailable) {\n      return;\n    }\n\n    var nextView = views[views.indexOf(view) - 1];\n\n    if (!nextView) {\n      throw new Error('Attempted to drill up from the highest view.');\n    }\n\n    var nextActiveStartDate = getBegin(nextView, activeStartDate);\n    setActiveStartDateState(nextActiveStartDate);\n    setViewState(nextView);\n    var args = {\n      action: 'drillUp',\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: nextView\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onViewChange && view !== nextView) {\n      onViewChange(args);\n    }\n\n    if (onDrillUp) {\n      onDrillUp(args);\n    }\n  }, [activeStartDate, drillUpAvailable, onActiveStartDateChange, onDrillUp, onViewChange, value, view, views]);\n  var onChange = useCallback(function (rawNextValue, event) {\n    var previousValue = value;\n    onClickTile(rawNextValue, event);\n    var isFirstValueInRange = selectRange && !getIsSingleValue(previousValue);\n    var nextValue;\n\n    if (selectRange) {\n      // Range selection turned on\n      if (isFirstValueInRange) {\n        // Value has 0 or 2 elements - either way we're starting a new array\n        // First value\n        nextValue = getBegin(valueType, rawNextValue);\n      } else {\n        if (!previousValue) {\n          throw new Error('previousValue is required');\n        }\n\n        if (Array.isArray(previousValue)) {\n          throw new Error('previousValue must not be an array');\n        } // Second value\n\n\n        nextValue = getValueRange(valueType, previousValue, rawNextValue);\n      }\n    } else {\n      // Range selection turned off\n      nextValue = getProcessedValue(rawNextValue);\n    }\n\n    var nextActiveStartDate = // Range selection turned off\n    !selectRange || // Range selection turned on, first value\n    isFirstValueInRange || // Range selection turned on, second value, goToRangeStartOnSelect toggled on\n    goToRangeStartOnSelect ? getActiveStartDate({\n      maxDate: maxDate,\n      maxDetail: maxDetail,\n      minDate: minDate,\n      minDetail: minDetail,\n      value: nextValue,\n      view: view\n    }) : null;\n    event.persist();\n    setActiveStartDateState(nextActiveStartDate);\n    setValueState(nextValue);\n    var args = {\n      action: 'onChange',\n      activeStartDate: nextActiveStartDate,\n      value: nextValue,\n      view: view\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onChangeProps) {\n      if (selectRange) {\n        var isSingleValue = getIsSingleValue(nextValue);\n\n        if (!isSingleValue) {\n          onChangeProps(nextValue || null, event);\n        } else if (allowPartialRange) {\n          if (Array.isArray(nextValue)) {\n            throw new Error('value must not be an array');\n          }\n\n          onChangeProps([nextValue || null, null], event);\n        }\n      } else {\n        onChangeProps(nextValue || null, event);\n      }\n    }\n  }, [activeStartDate, allowPartialRange, getProcessedValue, goToRangeStartOnSelect, maxDate, maxDetail, minDate, minDetail, onActiveStartDateChange, onChangeProps, onClickTile, selectRange, value, valueType, view]);\n\n  function onMouseOver(nextHover) {\n    setHoverState(nextHover);\n  }\n\n  function onMouseLeave() {\n    setHoverState(null);\n  }\n\n  useImperativeHandle(ref, function () {\n    return {\n      activeStartDate: activeStartDate,\n      drillDown: drillDown,\n      drillUp: drillUp,\n      onChange: onChange,\n      setActiveStartDate: setActiveStartDate,\n      value: value,\n      view: view\n    };\n  }, [activeStartDate, drillDown, drillUp, onChange, setActiveStartDate, value, view]);\n\n  function renderContent(next) {\n    var currentActiveStartDate = next ? getBeginNext(view, activeStartDate) : getBegin(view, activeStartDate);\n    var onClick = drillDownAvailable ? drillDown : onChange;\n    var commonProps = {\n      activeStartDate: currentActiveStartDate,\n      hover: hover,\n      locale: locale,\n      maxDate: maxDate,\n      minDate: minDate,\n      onClick: onClick,\n      onMouseOver: selectRange ? onMouseOver : undefined,\n      tileClassName: tileClassName,\n      tileContent: tileContent,\n      tileDisabled: tileDisabled,\n      value: value,\n      valueType: valueType\n    };\n\n    switch (view) {\n      case 'century':\n        {\n          return _jsx(CenturyView, __assign({\n            formatYear: formatYear,\n            showNeighboringCentury: showNeighboringCentury\n          }, commonProps));\n        }\n\n      case 'decade':\n        {\n          return _jsx(DecadeView, __assign({\n            formatYear: formatYear,\n            showNeighboringDecade: showNeighboringDecade\n          }, commonProps));\n        }\n\n      case 'year':\n        {\n          return _jsx(YearView, __assign({\n            formatMonth: formatMonth,\n            formatMonthYear: formatMonthYear\n          }, commonProps));\n        }\n\n      case 'month':\n        {\n          return _jsx(MonthView, __assign({\n            calendarType: calendarType,\n            formatDay: formatDay,\n            formatLongDate: formatLongDate,\n            formatShortWeekday: formatShortWeekday,\n            formatWeekday: formatWeekday,\n            onClickWeekNumber: onClickWeekNumber,\n            onMouseLeave: selectRange ? onMouseLeave : undefined,\n            showFixedNumberOfWeeks: typeof showFixedNumberOfWeeks !== 'undefined' ? showFixedNumberOfWeeks : showDoubleView,\n            showNeighboringMonth: showNeighboringMonth,\n            showWeekNumbers: showWeekNumbers\n          }, commonProps));\n        }\n\n      default:\n        throw new Error(\"Invalid view: \".concat(view, \".\"));\n    }\n  }\n\n  function renderNavigation() {\n    if (!showNavigation) {\n      return null;\n    }\n\n    return _jsx(Navigation, {\n      activeStartDate: activeStartDate,\n      drillUp: drillUp,\n      formatMonthYear: formatMonthYear,\n      formatYear: formatYear,\n      locale: locale,\n      maxDate: maxDate,\n      minDate: minDate,\n      navigationAriaLabel: navigationAriaLabel,\n      navigationAriaLive: navigationAriaLive,\n      navigationLabel: navigationLabel,\n      next2AriaLabel: next2AriaLabel,\n      next2Label: next2Label,\n      nextAriaLabel: nextAriaLabel,\n      nextLabel: nextLabel,\n      prev2AriaLabel: prev2AriaLabel,\n      prev2Label: prev2Label,\n      prevAriaLabel: prevAriaLabel,\n      prevLabel: prevLabel,\n      setActiveStartDate: setActiveStartDate,\n      showDoubleView: showDoubleView,\n      view: view,\n      views: views\n    });\n  }\n\n  var valueArray = Array.isArray(value) ? value : [value];\n  return _jsxs(\"div\", {\n    className: clsx(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className),\n    ref: inputRef,\n    children: [renderNavigation(), _jsxs(\"div\", {\n      className: \"\".concat(baseClassName, \"__viewContainer\"),\n      onBlur: selectRange ? onMouseLeave : undefined,\n      onMouseLeave: selectRange ? onMouseLeave : undefined,\n      children: [renderContent(), showDoubleView ? renderContent(true) : null]\n    })]\n  });\n});\nexport default Calendar;","map":{"version":3,"sources":["C:/Users/Lenovo/Documents/REACT/curso-react-alura/node_modules/react-calendar/dist/esm/Calendar.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","jsx","_jsx","jsxs","_jsxs","forwardRef","useCallback","useImperativeHandle","useState","clsx","Navigation","CenturyView","DecadeView","YearView","MonthView","getBegin","getBeginNext","getEnd","getValueRange","between","baseClassName","allViews","allValueTypes","defaultMinDate","Date","setFullYear","setHours","defaultMaxDate","toDate","value","getLimitedViews","minDetail","maxDetail","slice","indexOf","isViewAllowed","view","views","getView","getValueType","index","getValue","rawValue","Array","isArray","valueDate","isNaN","getTime","Error","concat","getDetailValue","_a","minDate","maxDate","valuePiece","valueType","detailValueFrom","getDetailValueFrom","args","getDetailValueTo","getDetailValueArray","map","fn","getActiveStartDate","rangeType","valueFrom","getInitialActiveStartDate","activeStartDate","defaultActiveStartDate","defaultValue","defaultView","getIsSingleValue","areDatesEqual","date1","date2","Calendar","props","ref","activeStartDateProps","allowPartialRange","calendarType","className","formatDay","formatLongDate","formatMonth","formatMonthYear","formatShortWeekday","formatWeekday","formatYear","goToRangeStartOnSelect","inputRef","locale","_b","_c","_d","_e","navigationAriaLabel","navigationAriaLive","navigationLabel","next2AriaLabel","next2Label","nextAriaLabel","nextLabel","onActiveStartDateChange","onChangeProps","onChange","onClickDay","onClickDecade","onClickMonth","onClickWeekNumber","onClickYear","onDrillDown","onDrillUp","onViewChange","prev2AriaLabel","prev2Label","prevAriaLabel","prevLabel","_f","returnValue","selectRange","showDoubleView","showFixedNumberOfWeeks","_g","showNavigation","showNeighboringCentury","showNeighboringDecade","_h","showNeighboringMonth","showWeekNumbers","tileClassName","tileContent","tileDisabled","valueProps","viewProps","_j","activeStartDateState","setActiveStartDateState","_k","hoverState","setHoverState","_l","el","undefined","valueState","setValueState","_m","viewState","setViewState","hover","drillDownAvailable","drillUpAvailable","getProcessedValue","processFunction","setActiveStartDate","nextActiveStartDate","action","onClickTile","event","callback","drillDown","nextView","drillUp","rawNextValue","previousValue","isFirstValueInRange","nextValue","persist","isSingleValue","onMouseOver","nextHover","onMouseLeave","renderContent","next","currentActiveStartDate","onClick","commonProps","renderNavigation","valueArray","children","onBlur"],"mappings":"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","sourcesContent":["'use client';\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport clsx from 'clsx';\nimport Navigation from './Calendar/Navigation.js';\nimport CenturyView from './CenturyView.js';\nimport DecadeView from './DecadeView.js';\nimport YearView from './YearView.js';\nimport MonthView from './MonthView.js';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates.js';\nimport { between } from './shared/utils.js';\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = ['decade', 'year', 'month', 'day'];\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\nfunction toDate(value) {\n    if (value instanceof Date) {\n        return value;\n    }\n    return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\nfunction getLimitedViews(minDetail, maxDetail) {\n    return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\nfunction isViewAllowed(view, minDetail, maxDetail) {\n    var views = getLimitedViews(minDetail, maxDetail);\n    return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\nfunction getView(view, minDetail, maxDetail) {\n    if (!view) {\n        return maxDetail;\n    }\n    if (isViewAllowed(view, minDetail, maxDetail)) {\n        return view;\n    }\n    return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\nfunction getValueType(view) {\n    var index = allViews.indexOf(view);\n    return allValueTypes[index];\n}\nfunction getValue(value, index) {\n    var rawValue = Array.isArray(value) ? value[index] : value;\n    if (!rawValue) {\n        return null;\n    }\n    var valueDate = toDate(rawValue);\n    if (isNaN(valueDate.getTime())) {\n        throw new Error(\"Invalid date: \".concat(value));\n    }\n    return valueDate;\n}\nfunction getDetailValue(_a, index) {\n    var value = _a.value, minDate = _a.minDate, maxDate = _a.maxDate, maxDetail = _a.maxDetail;\n    var valuePiece = getValue(value, index);\n    if (!valuePiece) {\n        return null;\n    }\n    var valueType = getValueType(maxDetail);\n    var detailValueFrom = (function () {\n        switch (index) {\n            case 0:\n                return getBegin(valueType, valuePiece);\n            case 1:\n                return getEnd(valueType, valuePiece);\n            default:\n                throw new Error(\"Invalid index value: \".concat(index));\n        }\n    })();\n    return between(detailValueFrom, minDate, maxDate);\n}\nvar getDetailValueFrom = function (args) { return getDetailValue(args, 0); };\nvar getDetailValueTo = function (args) { return getDetailValue(args, 1); };\nvar getDetailValueArray = function (args) {\n    return [getDetailValueFrom, getDetailValueTo].map(function (fn) { return fn(args); });\n};\nfunction getActiveStartDate(_a) {\n    var maxDate = _a.maxDate, maxDetail = _a.maxDetail, minDate = _a.minDate, minDetail = _a.minDetail, value = _a.value, view = _a.view;\n    var rangeType = getView(view, minDetail, maxDetail);\n    var valueFrom = getDetailValueFrom({\n        value: value,\n        minDate: minDate,\n        maxDate: maxDate,\n        maxDetail: maxDetail,\n    }) || new Date();\n    return getBegin(rangeType, valueFrom);\n}\nfunction getInitialActiveStartDate(_a) {\n    var activeStartDate = _a.activeStartDate, defaultActiveStartDate = _a.defaultActiveStartDate, defaultValue = _a.defaultValue, defaultView = _a.defaultView, maxDate = _a.maxDate, maxDetail = _a.maxDetail, minDate = _a.minDate, minDetail = _a.minDetail, value = _a.value, view = _a.view;\n    var rangeType = getView(view, minDetail, maxDetail);\n    var valueFrom = activeStartDate || defaultActiveStartDate;\n    if (valueFrom) {\n        return getBegin(rangeType, valueFrom);\n    }\n    return getActiveStartDate({\n        maxDate: maxDate,\n        maxDetail: maxDetail,\n        minDate: minDate,\n        minDetail: minDetail,\n        value: value || defaultValue,\n        view: view || defaultView,\n    });\n}\nfunction getIsSingleValue(value) {\n    return value && (!Array.isArray(value) || value.length === 1);\n}\nfunction areDatesEqual(date1, date2) {\n    return date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();\n}\nvar Calendar = forwardRef(function Calendar(props, ref) {\n    var activeStartDateProps = props.activeStartDate, allowPartialRange = props.allowPartialRange, calendarType = props.calendarType, className = props.className, defaultActiveStartDate = props.defaultActiveStartDate, defaultValue = props.defaultValue, defaultView = props.defaultView, formatDay = props.formatDay, formatLongDate = props.formatLongDate, formatMonth = props.formatMonth, formatMonthYear = props.formatMonthYear, formatShortWeekday = props.formatShortWeekday, formatWeekday = props.formatWeekday, formatYear = props.formatYear, _a = props.goToRangeStartOnSelect, goToRangeStartOnSelect = _a === void 0 ? true : _a, inputRef = props.inputRef, locale = props.locale, _b = props.maxDate, maxDate = _b === void 0 ? defaultMaxDate : _b, _c = props.maxDetail, maxDetail = _c === void 0 ? 'month' : _c, _d = props.minDate, minDate = _d === void 0 ? defaultMinDate : _d, _e = props.minDetail, minDetail = _e === void 0 ? 'century' : _e, navigationAriaLabel = props.navigationAriaLabel, navigationAriaLive = props.navigationAriaLive, navigationLabel = props.navigationLabel, next2AriaLabel = props.next2AriaLabel, next2Label = props.next2Label, nextAriaLabel = props.nextAriaLabel, nextLabel = props.nextLabel, onActiveStartDateChange = props.onActiveStartDateChange, onChangeProps = props.onChange, onClickDay = props.onClickDay, onClickDecade = props.onClickDecade, onClickMonth = props.onClickMonth, onClickWeekNumber = props.onClickWeekNumber, onClickYear = props.onClickYear, onDrillDown = props.onDrillDown, onDrillUp = props.onDrillUp, onViewChange = props.onViewChange, prev2AriaLabel = props.prev2AriaLabel, prev2Label = props.prev2Label, prevAriaLabel = props.prevAriaLabel, prevLabel = props.prevLabel, _f = props.returnValue, returnValue = _f === void 0 ? 'start' : _f, selectRange = props.selectRange, showDoubleView = props.showDoubleView, showFixedNumberOfWeeks = props.showFixedNumberOfWeeks, _g = props.showNavigation, showNavigation = _g === void 0 ? true : _g, showNeighboringCentury = props.showNeighboringCentury, showNeighboringDecade = props.showNeighboringDecade, _h = props.showNeighboringMonth, showNeighboringMonth = _h === void 0 ? true : _h, showWeekNumbers = props.showWeekNumbers, tileClassName = props.tileClassName, tileContent = props.tileContent, tileDisabled = props.tileDisabled, valueProps = props.value, viewProps = props.view;\n    var _j = useState(defaultActiveStartDate), activeStartDateState = _j[0], setActiveStartDateState = _j[1];\n    var _k = useState(null), hoverState = _k[0], setHoverState = _k[1];\n    var _l = useState(Array.isArray(defaultValue)\n        ? defaultValue.map(function (el) { return (el !== null ? toDate(el) : null); })\n        : defaultValue !== null && defaultValue !== undefined\n            ? toDate(defaultValue)\n            : null), valueState = _l[0], setValueState = _l[1];\n    var _m = useState(defaultView), viewState = _m[0], setViewState = _m[1];\n    var activeStartDate = activeStartDateProps ||\n        activeStartDateState ||\n        getInitialActiveStartDate({\n            activeStartDate: activeStartDateProps,\n            defaultActiveStartDate: defaultActiveStartDate,\n            defaultValue: defaultValue,\n            defaultView: defaultView,\n            maxDate: maxDate,\n            maxDetail: maxDetail,\n            minDate: minDate,\n            minDetail: minDetail,\n            value: valueProps,\n            view: viewProps,\n        });\n    var value = (function () {\n        var rawValue = (function () {\n            // In the middle of range selection, use value from state\n            if (selectRange && getIsSingleValue(valueState)) {\n                return valueState;\n            }\n            return valueProps !== undefined ? valueProps : valueState;\n        })();\n        if (!rawValue) {\n            return null;\n        }\n        return Array.isArray(rawValue)\n            ? rawValue.map(function (el) { return (el !== null ? toDate(el) : null); })\n            : rawValue !== null\n                ? toDate(rawValue)\n                : null;\n    })();\n    var valueType = getValueType(maxDetail);\n    var view = getView(viewProps || viewState, minDetail, maxDetail);\n    var views = getLimitedViews(minDetail, maxDetail);\n    var hover = selectRange ? hoverState : null;\n    var drillDownAvailable = views.indexOf(view) < views.length - 1;\n    var drillUpAvailable = views.indexOf(view) > 0;\n    var getProcessedValue = useCallback(function (value) {\n        var processFunction = (function () {\n            switch (returnValue) {\n                case 'start':\n                    return getDetailValueFrom;\n                case 'end':\n                    return getDetailValueTo;\n                case 'range':\n                    return getDetailValueArray;\n                default:\n                    throw new Error('Invalid returnValue.');\n            }\n        })();\n        return processFunction({\n            maxDate: maxDate,\n            maxDetail: maxDetail,\n            minDate: minDate,\n            value: value,\n        });\n    }, [maxDate, maxDetail, minDate, returnValue]);\n    var setActiveStartDate = useCallback(function (nextActiveStartDate, action) {\n        setActiveStartDateState(nextActiveStartDate);\n        var args = {\n            action: action,\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: view,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n    }, [activeStartDate, onActiveStartDateChange, value, view]);\n    var onClickTile = useCallback(function (value, event) {\n        var callback = (function () {\n            switch (view) {\n                case 'century':\n                    return onClickDecade;\n                case 'decade':\n                    return onClickYear;\n                case 'year':\n                    return onClickMonth;\n                case 'month':\n                    return onClickDay;\n                default:\n                    throw new Error(\"Invalid view: \".concat(view, \".\"));\n            }\n        })();\n        if (callback)\n            callback(value, event);\n    }, [onClickDay, onClickDecade, onClickMonth, onClickYear, view]);\n    var drillDown = useCallback(function (nextActiveStartDate, event) {\n        if (!drillDownAvailable) {\n            return;\n        }\n        onClickTile(nextActiveStartDate, event);\n        var nextView = views[views.indexOf(view) + 1];\n        if (!nextView) {\n            throw new Error('Attempted to drill down from the lowest view.');\n        }\n        setActiveStartDateState(nextActiveStartDate);\n        setViewState(nextView);\n        var args = {\n            action: 'drillDown',\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: nextView,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onViewChange && view !== nextView) {\n            onViewChange(args);\n        }\n        if (onDrillDown) {\n            onDrillDown(args);\n        }\n    }, [\n        activeStartDate,\n        drillDownAvailable,\n        onActiveStartDateChange,\n        onClickTile,\n        onDrillDown,\n        onViewChange,\n        value,\n        view,\n        views,\n    ]);\n    var drillUp = useCallback(function () {\n        if (!drillUpAvailable) {\n            return;\n        }\n        var nextView = views[views.indexOf(view) - 1];\n        if (!nextView) {\n            throw new Error('Attempted to drill up from the highest view.');\n        }\n        var nextActiveStartDate = getBegin(nextView, activeStartDate);\n        setActiveStartDateState(nextActiveStartDate);\n        setViewState(nextView);\n        var args = {\n            action: 'drillUp',\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: nextView,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onViewChange && view !== nextView) {\n            onViewChange(args);\n        }\n        if (onDrillUp) {\n            onDrillUp(args);\n        }\n    }, [\n        activeStartDate,\n        drillUpAvailable,\n        onActiveStartDateChange,\n        onDrillUp,\n        onViewChange,\n        value,\n        view,\n        views,\n    ]);\n    var onChange = useCallback(function (rawNextValue, event) {\n        var previousValue = value;\n        onClickTile(rawNextValue, event);\n        var isFirstValueInRange = selectRange && !getIsSingleValue(previousValue);\n        var nextValue;\n        if (selectRange) {\n            // Range selection turned on\n            if (isFirstValueInRange) {\n                // Value has 0 or 2 elements - either way we're starting a new array\n                // First value\n                nextValue = getBegin(valueType, rawNextValue);\n            }\n            else {\n                if (!previousValue) {\n                    throw new Error('previousValue is required');\n                }\n                if (Array.isArray(previousValue)) {\n                    throw new Error('previousValue must not be an array');\n                }\n                // Second value\n                nextValue = getValueRange(valueType, previousValue, rawNextValue);\n            }\n        }\n        else {\n            // Range selection turned off\n            nextValue = getProcessedValue(rawNextValue);\n        }\n        var nextActiveStartDate = \n        // Range selection turned off\n        !selectRange ||\n            // Range selection turned on, first value\n            isFirstValueInRange ||\n            // Range selection turned on, second value, goToRangeStartOnSelect toggled on\n            goToRangeStartOnSelect\n            ? getActiveStartDate({\n                maxDate: maxDate,\n                maxDetail: maxDetail,\n                minDate: minDate,\n                minDetail: minDetail,\n                value: nextValue,\n                view: view,\n            })\n            : null;\n        event.persist();\n        setActiveStartDateState(nextActiveStartDate);\n        setValueState(nextValue);\n        var args = {\n            action: 'onChange',\n            activeStartDate: nextActiveStartDate,\n            value: nextValue,\n            view: view,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onChangeProps) {\n            if (selectRange) {\n                var isSingleValue = getIsSingleValue(nextValue);\n                if (!isSingleValue) {\n                    onChangeProps(nextValue || null, event);\n                }\n                else if (allowPartialRange) {\n                    if (Array.isArray(nextValue)) {\n                        throw new Error('value must not be an array');\n                    }\n                    onChangeProps([nextValue || null, null], event);\n                }\n            }\n            else {\n                onChangeProps(nextValue || null, event);\n            }\n        }\n    }, [\n        activeStartDate,\n        allowPartialRange,\n        getProcessedValue,\n        goToRangeStartOnSelect,\n        maxDate,\n        maxDetail,\n        minDate,\n        minDetail,\n        onActiveStartDateChange,\n        onChangeProps,\n        onClickTile,\n        selectRange,\n        value,\n        valueType,\n        view,\n    ]);\n    function onMouseOver(nextHover) {\n        setHoverState(nextHover);\n    }\n    function onMouseLeave() {\n        setHoverState(null);\n    }\n    useImperativeHandle(ref, function () { return ({\n        activeStartDate: activeStartDate,\n        drillDown: drillDown,\n        drillUp: drillUp,\n        onChange: onChange,\n        setActiveStartDate: setActiveStartDate,\n        value: value,\n        view: view,\n    }); }, [activeStartDate, drillDown, drillUp, onChange, setActiveStartDate, value, view]);\n    function renderContent(next) {\n        var currentActiveStartDate = next\n            ? getBeginNext(view, activeStartDate)\n            : getBegin(view, activeStartDate);\n        var onClick = drillDownAvailable ? drillDown : onChange;\n        var commonProps = {\n            activeStartDate: currentActiveStartDate,\n            hover: hover,\n            locale: locale,\n            maxDate: maxDate,\n            minDate: minDate,\n            onClick: onClick,\n            onMouseOver: selectRange ? onMouseOver : undefined,\n            tileClassName: tileClassName,\n            tileContent: tileContent,\n            tileDisabled: tileDisabled,\n            value: value,\n            valueType: valueType,\n        };\n        switch (view) {\n            case 'century': {\n                return (_jsx(CenturyView, __assign({ formatYear: formatYear, showNeighboringCentury: showNeighboringCentury }, commonProps)));\n            }\n            case 'decade': {\n                return (_jsx(DecadeView, __assign({ formatYear: formatYear, showNeighboringDecade: showNeighboringDecade }, commonProps)));\n            }\n            case 'year': {\n                return (_jsx(YearView, __assign({ formatMonth: formatMonth, formatMonthYear: formatMonthYear }, commonProps)));\n            }\n            case 'month': {\n                return (_jsx(MonthView, __assign({ calendarType: calendarType, formatDay: formatDay, formatLongDate: formatLongDate, formatShortWeekday: formatShortWeekday, formatWeekday: formatWeekday, onClickWeekNumber: onClickWeekNumber, onMouseLeave: selectRange ? onMouseLeave : undefined, showFixedNumberOfWeeks: typeof showFixedNumberOfWeeks !== 'undefined'\n                        ? showFixedNumberOfWeeks\n                        : showDoubleView, showNeighboringMonth: showNeighboringMonth, showWeekNumbers: showWeekNumbers }, commonProps)));\n            }\n            default:\n                throw new Error(\"Invalid view: \".concat(view, \".\"));\n        }\n    }\n    function renderNavigation() {\n        if (!showNavigation) {\n            return null;\n        }\n        return (_jsx(Navigation, { activeStartDate: activeStartDate, drillUp: drillUp, formatMonthYear: formatMonthYear, formatYear: formatYear, locale: locale, maxDate: maxDate, minDate: minDate, navigationAriaLabel: navigationAriaLabel, navigationAriaLive: navigationAriaLive, navigationLabel: navigationLabel, next2AriaLabel: next2AriaLabel, next2Label: next2Label, nextAriaLabel: nextAriaLabel, nextLabel: nextLabel, prev2AriaLabel: prev2AriaLabel, prev2Label: prev2Label, prevAriaLabel: prevAriaLabel, prevLabel: prevLabel, setActiveStartDate: setActiveStartDate, showDoubleView: showDoubleView, view: view, views: views }));\n    }\n    var valueArray = Array.isArray(value) ? value : [value];\n    return (_jsxs(\"div\", { className: clsx(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className), ref: inputRef, children: [renderNavigation(), _jsxs(\"div\", { className: \"\".concat(baseClassName, \"__viewContainer\"), onBlur: selectRange ? onMouseLeave : undefined, onMouseLeave: selectRange ? onMouseLeave : undefined, children: [renderContent(), showDoubleView ? renderContent(true) : null] })] }));\n});\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}